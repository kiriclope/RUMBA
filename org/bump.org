#+STARTUP: fold
#+TITLE: Continuous Bump Attractor Model
#+PROPERTY: header-args:ipython :results both :exports both :async yes :session dual_data :kernel dual_data

* notebook settings
#+begin_src ipython
  %load_ext autoreload
  %autoreload 2
  %reload_ext autoreload

  %run ../notebooks/setup.py
  %matplotlib inline
  %config InlineBackend.figure_format = 'png'
#+end_src

#+RESULTS:
: The autoreload extension is already loaded. To reload it, use:
:   %reload_ext autoreload
: Python exe
: /home/leon/mambaforge/envs/dual_data/bin/python

* Continuous Bump Attractor Model

Here I will explain how to use the package to run a one population continuous attractor network model.

** imports
#+begin_src ipython
  import sys
  sys.path.insert(0, '/home/leon/tmp/rnn_numba') # put here the path to the repo
  from src.model.rate_model import Network
#+end_src

#+RESULTS:

#+begin_src ipython
  import pandas as pd
  from src.analysis.decode import decode_bump, circcvl
#+end_src

#+RESULTS:
** Single trial
*** Simulation
To run a simulation, first we need to define a network model.
The class Network takes three mandatory arguments:

                1. The name of the configuration file that defines the model,
                   eg 'config_bump.yml', these files are in ../conf/ and well detailed.
                   
                2. The name of the output file that will contain the simulation data.
                   eg 'bump'. Simulation results will be saved as a data frame to '../data/simul/bump.h5'.
                   
                3. The path to the root of this repository.

One can also pass extra arguments to Network, basically any parameter that is in the config file so that it will be overwritten.

Here is an example:

#+begin_src ipython
    REPO_ROOT = "/home/leon/tmp/rnn_numba"
    model = Network('config_bump.yml', 'bump', REPO_ROOT, VERBOSE=1, NUM_THREADS=116)
    # Here for example, we are adding two extra parameters 
#+end_src

#+RESULTS:
: Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
: Saving data to /home/leon/tmp/rnn_numba/data/simul/bump.h5
: Jab [[-2.75]]
: Tuning, KAPPA [0.4]
: Asymmetry, SIGMA [0.]
: Iext [14.]

Then one just runs the model with
#+begin_src ipython
  model.run()
#+end_src

#+RESULTS:
#+begin_example
  Generating matrix Cij
  all to all connectivity
  with cosine structure
  Saving matrix to /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Parameters:
  N 1000 Na [1000] K 1.0 Ka [1.]
  Iext [14.] Jab [-2.75]
  Tuning, KAPPA [0.4]
  Asymmetry, SIGMA [0.]
  MF Rates: [5.09090909]
  Transfert Func Sigmoid
  Running simulation
  times (s) 0.5 rates (Hz) [2.19]
  times (s) 1.0 rates (Hz) [2.15]
  STIM ON
  times (s) 1.5 rates (Hz) [6.26]
  STIM OFF
  times (s) 2.0 rates (Hz) [5.87]
  times (s) 2.5 rates (Hz) [5.87]
  times (s) 3.0 rates (Hz) [5.89]
  times (s) 3.5 rates (Hz) [5.89]
  times (s) 4.0 rates (Hz) [5.89]
  saving data to /home/leon/tmp/rnn_numba/data/simul/bump.h5
  Elapsed (with compilation) = 13.72017726697959s
#+end_example

*** Connectivity
#+begin_src ipython
from src.analysis.plot_utils import plot_con
#+end_src

#+RESULTS:

#+begin_src ipython
  Cij = model.Cij
#+end_src

#+RESULTS:
: True

#+begin_src ipython
  plot_con(model.Cij)
#+end_src

#+RESULTS:
:RESULTS:
: /home/leon/mambaforge/envs/dual_data/lib/python3.8/site-packages/IPython/core/events.py:89: UserWarning: This figure includes Axes that are not compatible with tight_layout, so results might be incorrect.
:   func(*args, **kwargs)
: /home/leon/mambaforge/envs/dual_data/lib/python3.8/site-packages/IPython/core/pylabtools.py:152: UserWarning: This figure includes Axes that are not compatible with tight_layout, so results might be incorrect.
:   fig.canvas.print_figure(bytes_io, **kw)
[[file:./.ob-jupyter/ca6e0f6400e61020f092fb4a0d36feb6479587b5.png]]
:END:

#+begin_src ipython

#+end_src

#+RESULTS:

*** Analysis

Most of the code for the analysis of the results of the simulations comes from
../src/analysis/plot_utils.py and ../src/analysis/decode.py But here we will
reimplement some of it.

**** Imports
#+begin_src ipython
  import pandas as pd
  from src.analysis.decode import decode_bump, circcvl
#+end_src

#+RESULTS:

**** Load data

#+begin_src ipython
  df = pd.read_hdf(REPO_ROOT + "/data/simul/bump.h5", mode="r")  
  print(df.head())
#+end_src

#+RESULTS:
:       rates         ff       h_E  neurons   time
: 0  2.296572  -4.850843 -6.002947        0  0.499
: 1  1.836227   3.645746 -6.003618        1  0.499
: 2  1.974827  -0.252310 -6.004289        2  0.499
: 3  1.436408  -4.915340 -6.004962        3  0.499
: 4  2.562498  13.617294 -6.005635        4  0.499

The dataframe from a simulation contains 5 cols corresponding to
the rates of the neurons, the total feedforward input (ff), the net recurrent input (h_E), the neuron id, and the time step.

**** Rates
***** Raster plot

#+begin_src ipython
  fig, ax = plt.subplots()
  pt = pd.pivot_table(df, values="rates", index=["neurons"], columns="time")

  sns.heatmap(pt, cmap="jet", ax=ax, vmax=15, vmin=0)
  ax.set_yticks([0, 500, 1000], [0, 500, 1000])
  ax.set_xticks([0, 2, 4, 6, 8], [0, 1, 2, 3, 4])
  ax.set_title('Excitatory')
  
  plt.show()
#+end_src

#+RESULTS:
[[file:./.ob-jupyter/90ae003a9dc999bddc6365cda244b1a11f12b418.png]]

***** Rates Distribution

#+begin_src ipython
  mean_df = df.groupby("neurons").mean()
  mean_df[mean_df.rates<.01] = np.nan

  sns.histplot(mean_df, x=mean_df.rates, kde=True, color='r')
  plt.xlabel("Rates (au)")
  plt.show()
#+end_src

#+RESULTS:
[[file:./.ob-jupyter/3447ed6b9adee58fe4d77017ddec9f4f7aa63b2f.png]]

**** Tuning
***** Fourier moments and phase
Here we use the functions from ../src/analysis/decode.py to decode the location and amplitude of the bump.

#+begin_src ipython
  data = df.groupby(['time'])['rates'].apply(decode_bump).reset_index()
  data[['m0', 'm1', 'phase']] = pd.DataFrame(data['rates'].tolist(), index=data.index)
  data = data.drop(columns=['rates'])

  print(data.head())
#+end_src

#+RESULTS:
:     time        m0        m1     phase
: 0  0.499  2.185564  0.083533  1.423525
: 1  0.999  2.150278  0.124635  5.326577
: 2  1.499  6.259649  7.148045  3.123662
: 3  1.999  5.873048  5.462709  3.126520
: 4  2.499  5.868035  5.541674  3.025176

This new dataframe contains 4 cols: the time step, the mean activity (m0), the amplitude of the bump (m1, this is the first fourier moment of the population vec)
and the location or phase of the center of the bump.

We can look at the time course of these observables

#+begin_src ipython
  fig, ax = plt.subplots(1, 3, figsize=[2*width, height])
  
  sns.lineplot(data=data, x='time', y='m0', legend=False, lw=2, ax=ax[0])
  ax[0].set_xlabel('Time (s)')
  ax[0].set_ylabel('$\mathcal{F}_0 (Hz)$')
  ax[1].set_xticks([0, 1, 2, 3, 4])

  sns.lineplot(x=data['time'], y=data['m1']/data['m0'], legend=False, lw=2, ax=ax[1])
  ax[1].set_xlabel('Time (s)')
  ax[1].set_ylabel('$\mathcal{F}_1 / \mathcal{F}_0$')
  ax[1].set_xticks([0, 1, 2, 3, 4])

  sns.lineplot(x=data['time'], y=data['phase']*180/np.pi, legend=False, lw=2, ax=ax[2])
  ax[2].set_xlabel('Time (s)')
  ax[2].set_ylabel('$\phi$ (°)')
  ax[2].set_xticks([0, 1, 2, 3, 4])
  ax[2].set_yticks([0, 90, 180, 270, 360])
  plt.show()
#+end_src

#+RESULTS:
[[file:./.ob-jupyter/8facf447e8da2d0ade4d5113927ed12771ebbe9c.png]]

***** Spatial profile
We can alternatively look at the shape of the bump at different epochs, using circcvl from ../src/analysis/decode.py
Here, during stimulation and during the delay period:

#+begin_src ipython

    # Stimulus presentation
    df_stim = df[df.time < 1.5]
    df_stim = df_stim[df_stim.time >= 1]

    mean_stim = df_stim.groupby("neurons").mean()
    array = mean_stim[["rates"]].to_numpy()

    X_stim = circcvl(array[:, 0], windowSize=10)
    m0, m1, phase = decode_bump(X_stim)

    X_stim = np.roll(X_stim, int((phase / 2.0 / np.pi - 0.5) * X_stim.shape[0]))
#+end_src

#+RESULTS:

#+begin_src ipython  
    df_delay = df[df.time >= 1.5]

    mean_delay = df_delay.groupby("neurons").mean()
    array = mean_delay[["rates"]].to_numpy()

    X_delay = circcvl(array[:, 0], windowSize=10)
    m0, m1, phase = decode_bump(X_delay)

    X_delay = np.roll(X_delay, int((phase / 2.0 / np.pi - 0.5) * X_delay.shape[0]))
#+end_src

#+RESULTS:

#+begin_src ipython

    theta = np.linspace(-180, 180, X_stim.shape[0])
    fig, ax = plt.subplots(1, 2, figsize=[2*width, height])

    ax[0].plot(theta, X_stim)
    ax[0].set_xlabel("Prefered Location (°)")
    ax[0].set_ylabel("Rate (Hz)")
    ax[0].set_xticks([-180, -90, 0, 90, 180])
    ax[0].set_title('Stimulation')
    ax[0].set_ylim([0, 15])

    ax[1].plot(theta, X_delay)
    ax[1].set_xlabel("Prefered Location (°)")
    ax[1].set_ylabel("Rate (Hz)")  
    ax[1].set_xticks([-180, -90, 0, 90, 180])
    ax[1].set_title('Delay')
    ax[1].set_ylim([0, 15])
    plt.show()
#+end_src

#+RESULTS:
[[file:./.ob-jupyter/6fe240c102de5db213e68492f6e2c222ba3f26c7.png]]

** Multiple trials
*** Simulations
**** Control
#+begin_src ipython
  ini_list = np.arange(250, 500)
  
  REPO_ROOT = "/home/leon/tmp/rnn_numba"

  IF_LOAD_MAT = 0
  IF_SAVE_MAT = 1

  for ini in ini_list:
      print('##########################################')
      print("trial", ini)
      print('##########################################')

      model = Network('config_bump.yml', 'bump_ini_%d' % ini, REPO_ROOT,
                      IF_LOAD_MAT=IF_LOAD_MAT, IF_SAVE_MAT=IF_SAVE_MAT)

      model.run()

      IF_LOAD_MAT = 1
      IF_SAVE_MAT = 0
#+end_src

#+results:
#+begin_example
  ##########################################
  trial 250
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_250.h5
  Generating matrix Cij
  Saving matrix to /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.223963935990469s
  ##########################################
  trial 251
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_251.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.201062680003815s
  ##########################################
  trial 252
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_252.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.186292108002817s
  ##########################################
  trial 253
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_253.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.177511239002342s
  ##########################################
  trial 254
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_254.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.205543894000584s
  ##########################################
  trial 255
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_255.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.192583776995889s
  ##########################################
  trial 256
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_256.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.187111428007483s
  ##########################################
  trial 257
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_257.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.18029366400151s
  ##########################################
  trial 258
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_258.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.24475966198952s
  ##########################################
  trial 259
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_259.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.20176398800686s
  ##########################################
  trial 260
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_260.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.210101862001466s
  ##########################################
  trial 261
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_261.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.175458518002415s
  ##########################################
  trial 262
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_262.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.161352347000502s
  ##########################################
  trial 263
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_263.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.187687572994037s
  ##########################################
  trial 264
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_264.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.160860187999788s
  ##########################################
  trial 265
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_265.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.134694826003397s
  ##########################################
  trial 266
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_266.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.198556280010962s
  ##########################################
  trial 267
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_267.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.194125060006627s
  ##########################################
  trial 268
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_268.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.198546624989831s
  ##########################################
  trial 269
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_269.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.165370536007686s
  ##########################################
  trial 270
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_270.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.204236748992116s
  ##########################################
  trial 271
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_271.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.15377355000237s
  ##########################################
  trial 272
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_272.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.202464700007113s
  ##########################################
  trial 273
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_273.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.208988290003617s
  ##########################################
  trial 274
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_274.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.16639997700986s
  ##########################################
  trial 275
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_275.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.16883896899526s
  ##########################################
  trial 276
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_276.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.191038627002854s
  ##########################################
  trial 277
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_277.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.175305971992202s
  ##########################################
  trial 278
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_278.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.1683708710043s
  ##########################################
  trial 279
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_279.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.148900690997834s
  ##########################################
  trial 280
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_280.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.1748289540119s
  ##########################################
  trial 281
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_281.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.19988430000376s
  ##########################################
  trial 282
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_282.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.15431923000142s
  ##########################################
  trial 283
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_283.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.16347739000048s
  ##########################################
  trial 284
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_284.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.18597791501088s
  ##########################################
  trial 285
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_285.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.190688732996932s
  ##########################################
  trial 286
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_286.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.105399678999675s
  ##########################################
  trial 287
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_287.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.199131490007858s
  ##########################################
  trial 288
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_288.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.19270224799402s
  ##########################################
  trial 289
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_289.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.148773388005793s
  ##########################################
  trial 290
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_290.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.188228821003577s
  ##########################################
  trial 291
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_291.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.094743574009044s
  ##########################################
  trial 292
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_292.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.164030993997585s
  ##########################################
  trial 293
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_293.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.252485297998646s
  ##########################################
  trial 294
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_294.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.208216740007629s
  ##########################################
  trial 295
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_295.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.162994533005985s
  ##########################################
  trial 296
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_296.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.139126588997897s
  ##########################################
  trial 297
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_297.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.169178285999806s
  ##########################################
  trial 298
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_298.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.194237331001204s
  ##########################################
  trial 299
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_299.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.240931656007888s
  ##########################################
  trial 300
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_300.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.170987033008714s
  ##########################################
  trial 301
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_301.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.171041833003983s
  ##########################################
  trial 302
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_302.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.12759244600602s
  ##########################################
  trial 303
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_303.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.1443281610118s
  ##########################################
  trial 304
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_304.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.135234865010716s
  ##########################################
  trial 305
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_305.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.174543030996574s
  ##########################################
  trial 306
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_306.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.181218634999823s
  ##########################################
  trial 307
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_307.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.195213512997725s
  ##########################################
  trial 308
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_308.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.191215615996043s
  ##########################################
  trial 309
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_309.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.163886034002644s
  ##########################################
  trial 310
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_310.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.179045411990955s
  ##########################################
  trial 311
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_311.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.181000145996222s
  ##########################################
  trial 312
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_312.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.181163542991271s
  ##########################################
  trial 313
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_313.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.13108811598795s
  ##########################################
  trial 314
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_314.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.079842150007607s
  ##########################################
  trial 315
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_315.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.154915641003754s
  ##########################################
  trial 316
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_316.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.15955255899462s
  ##########################################
  trial 317
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_317.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.176803277005092s
  ##########################################
  trial 318
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_318.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.225846243993146s
  ##########################################
  trial 319
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_319.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.138479775007s
  ##########################################
  trial 320
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_320.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.203124656007276s
  ##########################################
  trial 321
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_321.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.155910560002667s
  ##########################################
  trial 322
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_322.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.164287400999456s
  ##########################################
  trial 323
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_323.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.182818072993541s
  ##########################################
  trial 324
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_324.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.127244727991638s
  ##########################################
  trial 325
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_325.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.19828046800103s
  ##########################################
  trial 326
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_326.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.178404103993671s
  ##########################################
  trial 327
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_327.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.153297825003392s
  ##########################################
  trial 328
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_328.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.213972221012227s
  ##########################################
  trial 329
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_329.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.175851915002568s
  ##########################################
  trial 330
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_ini_330.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
#+end_example

**** NB on
#+begin_src ipython
  IF_LOAD_MAT = 0
  IF_SAVE_MAT = 1

  for ini in ini_list:
      print('##########################################')
      print("trial", ini)
      print('##########################################')

      model = Network('config_bump.yml', 'bump_on_ini_%d' % ini, REPO_ROOT,
                      IF_LOAD_MAT=IF_LOAD_MAT, IF_SAVE_MAT=IF_SAVE_MAT, Iext=[24])
      
      model.run()

      IF_LOAD_MAT = 1
      IF_SAVE_MAT = 0
#+end_src

#+results:
#+begin_example
  ##########################################
  trial 100
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_100.h5
  Generating matrix Cij
  Saving matrix to /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.969476471000235s
  ##########################################
  trial 101
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_101.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.919065039997804s
  ##########################################
  trial 102
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_102.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.898429109991412s
  ##########################################
  trial 103
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_103.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.893341531002079s
  ##########################################
  trial 104
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_104.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.871034837997286s
  ##########################################
  trial 105
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_105.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.958707104000496s
  ##########################################
  trial 106
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_106.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.905111600004602s
  ##########################################
  trial 107
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_107.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.842268388994853s
  ##########################################
  trial 108
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_108.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.986444133988698s
  ##########################################
  trial 109
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_109.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.962979196992819s
  ##########################################
  trial 110
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_110.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.958505368995247s
  ##########################################
  trial 111
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_111.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.768406886985758s
  ##########################################
  trial 112
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_112.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.835956498995074s
  ##########################################
  trial 113
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_113.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.895586846003425s
  ##########################################
  trial 114
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_114.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.94876231100352s
  ##########################################
  trial 115
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_115.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.82996582800115s
  ##########################################
  trial 116
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_116.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.944291223000619s
  ##########################################
  trial 117
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_117.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.00933475799684s
  ##########################################
  trial 118
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_118.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.920414156003972s
  ##########################################
  trial 119
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_119.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.714343576008105s
  ##########################################
  trial 120
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_120.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.903161000998807s
  ##########################################
  trial 121
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_121.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.8170264509972185s
  ##########################################
  trial 122
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_122.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.99225454700354s
  ##########################################
  trial 123
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_123.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.8886449779965915s
  ##########################################
  trial 124
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_124.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.853845851001097s
  ##########################################
  trial 125
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_125.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.923526330007007s
  ##########################################
  trial 126
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_126.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.945245391005301s
  ##########################################
  trial 127
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_127.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.907534906000365s
  ##########################################
  trial 128
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_128.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.924687375998474s
  ##########################################
  trial 129
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_129.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.90313687401067s
  ##########################################
  trial 130
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_130.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.892007791000651s
  ##########################################
  trial 131
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_131.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.881717167998431s
  ##########################################
  trial 132
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_132.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.843708347005304s
  ##########################################
  trial 133
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_133.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.967796641009045s
  ##########################################
  trial 134
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_134.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.943086190003669s
  ##########################################
  trial 135
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_135.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.915745840000454s
  ##########################################
  trial 136
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_136.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.860863683992648s
  ##########################################
  trial 137
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_137.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.945354972005589s
  ##########################################
  trial 138
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_138.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.9004184580117s
  ##########################################
  trial 139
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_139.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.8767685950006125s
  ##########################################
  trial 140
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_140.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.870299486996373s
  ##########################################
  trial 141
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_141.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.852530253003351s
  ##########################################
  trial 142
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_142.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.857814778006286s
  ##########################################
  trial 143
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_143.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.853707602000213s
  ##########################################
  trial 144
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_144.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.914095114989323s
  ##########################################
  trial 145
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_145.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.884276875003707s
  ##########################################
  trial 146
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_146.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.988723874004791s
  ##########################################
  trial 147
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_147.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.966200123002636s
  ##########################################
  trial 148
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_148.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.990753174002748s
  ##########################################
  trial 149
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_149.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.034450980994734s
  ##########################################
  trial 150
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_150.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.926406200000201s
  ##########################################
  trial 151
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_151.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.983743842007243s
  ##########################################
  trial 152
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_152.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.9610010589967715s
  ##########################################
  trial 153
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_153.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.018311403997359s
  ##########################################
  trial 154
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_154.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.975575570992078s
  ##########################################
  trial 155
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_155.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.900275740001234s
  ##########################################
  trial 156
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_156.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.048768164007924s
  ##########################################
  trial 157
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_157.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.946102913003415s
  ##########################################
  trial 158
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_158.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.0068243269925s
  ##########################################
  trial 159
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_159.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.951209718012251s
  ##########################################
  trial 160
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_160.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.0121051419992s
  ##########################################
  trial 161
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_161.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.004288201002055s
  ##########################################
  trial 162
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_162.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.055491161998361s
  ##########################################
  trial 163
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_163.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.015974575988366s
  ##########################################
  trial 164
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_164.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.978780680001364s
  ##########################################
  trial 165
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_165.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.009488216004684s
  ##########################################
  trial 166
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_166.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.005406709009549s
  ##########################################
  trial 167
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_167.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.927630567995948s
  ##########################################
  trial 168
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_168.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.984486043991637s
  ##########################################
  trial 169
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_169.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.047106105004787s
  ##########################################
  trial 170
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_170.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.992655865993584s
  ##########################################
  trial 171
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_171.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.013540908999857s
  ##########################################
  trial 172
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_172.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.95873073299299s
  ##########################################
  trial 173
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_173.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.047625102000893s
  ##########################################
  trial 174
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_174.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.014450799004408s
  ##########################################
  trial 175
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_175.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.995741838996764s
  ##########################################
  trial 176
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_176.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.991115052995156s
  ##########################################
  trial 177
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_177.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.983389158005593s
  ##########################################
  trial 178
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_178.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.021210001999862s
  ##########################################
  trial 179
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_179.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.963041829003487s
  ##########################################
  trial 180
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_180.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.012247180013219s
  ##########################################
  trial 181
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_181.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.004382115002954s
  ##########################################
  trial 182
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_182.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.003866725994158s
  ##########################################
  trial 183
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_183.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.007498195991502s
  ##########################################
  trial 184
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_184.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.019923047992052s
  ##########################################
  trial 185
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_185.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.953909052012023s
  ##########################################
  trial 186
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_186.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.997563148994232s
  ##########################################
  trial 187
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_187.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.00985461800883s
  ##########################################
  trial 188
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_188.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.01282491699385s
  ##########################################
  trial 189
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_189.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.002586500006146s
  ##########################################
  trial 190
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_190.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.050993716999074s
  ##########################################
  trial 191
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_191.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.059880135013373s
  ##########################################
  trial 192
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_192.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.033574023997062s
  ##########################################
  trial 193
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_193.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.992196377002983s
  ##########################################
  trial 194
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_194.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.966422632991453s
  ##########################################
  trial 195
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_195.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.03123443199729s
  ##########################################
  trial 196
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_196.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.030496975989081s
  ##########################################
  trial 197
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_197.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.020721252003568s
  ##########################################
  trial 198
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_198.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.067155868993723s
  ##########################################
  trial 199
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_199.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.06261844499386s
  ##########################################
  trial 200
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_200.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.071185702996445s
  ##########################################
  trial 201
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_201.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.9908637259941315s
  ##########################################
  trial 202
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_202.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.919454439004767s
  ##########################################
  trial 203
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_203.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.999850748994504s
  ##########################################
  trial 204
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_204.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.807248512996011s
  ##########################################
  trial 205
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_205.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.044388850001269s
  ##########################################
  trial 206
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_206.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.99884836099227s
  ##########################################
  trial 207
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_207.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.016823818004923s
  ##########################################
  trial 208
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_208.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.971091558996704s
  ##########################################
  trial 209
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_209.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.9375096170115285s
  ##########################################
  trial 210
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_210.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.963495559000876s
  ##########################################
  trial 211
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_211.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.943783556998824s
  ##########################################
  trial 212
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_212.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.9114457559917355s
  ##########################################
  trial 213
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_213.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.03892727701168s
  ##########################################
  trial 214
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_214.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.052578445000108s
  ##########################################
  trial 215
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_215.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.987385505010025s
  ##########################################
  trial 216
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_216.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.975032084999839s
  ##########################################
  trial 217
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_217.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.019305527996039s
  ##########################################
  trial 218
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_218.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.030647692998173s
  ##########################################
  trial 219
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_219.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.033709930998157s
  ##########################################
  trial 220
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_220.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.010150276997592s
  ##########################################
  trial 221
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_221.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.995262290001847s
  ##########################################
  trial 222
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_222.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.971181945002172s
  ##########################################
  trial 223
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_223.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.051204426999902s
  ##########################################
  trial 224
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_224.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.970063056985964s
  ##########################################
  trial 225
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_225.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.970227519006585s
  ##########################################
  trial 226
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_226.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.055533121994813s
  ##########################################
  trial 227
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_227.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.048877453999012s
  ##########################################
  trial 228
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_228.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.016614588006632s
  ##########################################
  trial 229
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_229.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.952301996992901s
  ##########################################
  trial 230
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_230.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.013870267008315s
  ##########################################
  trial 231
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_231.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.042828758989344s
  ##########################################
  trial 232
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_232.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.9647338270006s
  ##########################################
  trial 233
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_233.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.042732311994769s
  ##########################################
  trial 234
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_234.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.016710680007236s
  ##########################################
  trial 235
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_235.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.985456104986952s
  ##########################################
  trial 236
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_236.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.928297481004847s
  ##########################################
  trial 237
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_237.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.00681837000593s
  ##########################################
  trial 238
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_238.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.019640071011963s
  ##########################################
  trial 239
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_239.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.991056626007776s
  ##########################################
  trial 240
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_240.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.01707524700032s
  ##########################################
  trial 241
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_241.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.925051972997608s
  ##########################################
  trial 242
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_242.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.896704829996452s
  ##########################################
  trial 243
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_243.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.98831270300434s
  ##########################################
  trial 244
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_244.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.084526988008292s
  ##########################################
  trial 245
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_245.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.016570177001995s
  ##########################################
  trial 246
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_246.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.993069892007043s
  ##########################################
  trial 247
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_247.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.99924500999623s
  ##########################################
  trial 248
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_248.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.007494500998291s
  ##########################################
  trial 249
  ##########################################
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_on_ini_249.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.031511610010057s
#+end_example

*** Analysis
**** Imports
#+begin_src ipython
import pandas as pd
from src.analysis.decode import decode_bump
#+end_src

#+RESULTS:

**** Load Control Data
#+begin_src ipython
  ini_list = np.arange(0, 250)
  print(ini_list)
#+end_src

#+RESULTS:
#+begin_example
  [  0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17
    18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35
    36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53
    54  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71
    72  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89
    90  91  92  93  94  95  96  97  98  99 100 101 102 103 104 105 106 107
   108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125
   126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143
   144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161
   162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179
   180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197
   198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215
   216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233
   234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249]
#+end_example


#+begin_src ipython
  ini_list = np.arange(0, 250)

  df_list = []

  for ini in ini_list:
      df_i = pd.read_hdf(REPO_ROOT + "/data/simul/bump_ini_%d.h5" % ini, mode="r")
      df_i['trial'] = ini
      df_list.append(df_i)

  df = pd.concat(df_list, ignore_index=True)
  print(df.head())
#+end_src

#+RESULTS:
:       rates         ff       h_E  neurons   time  trial
: 0  4.054735  11.287413 -5.966954        0  0.499      0
: 1  0.843916  -3.879444 -5.966949        1  0.499      0
: 2  3.294786  -6.900330 -5.966943        2  0.499      0
: 3  2.031051   3.548604 -5.966936        3  0.499      0
: 4  1.807140 -10.561703 -5.966929        4  0.499      0

#+begin_src ipython
  df_code = df.groupby(['time', 'trial'])['rates'].apply(decode_bump).reset_index()
  df_code[['m0', 'm1', 'phase']] = pd.DataFrame(df_code['rates'].tolist(), index=df_code.index)
  df_code = df_code.drop(columns=['rates'])
  print(df_code.head())
#+end_src

#+RESULTS:
:     time  trial        m0        m1     phase
: 0  0.499      0  2.165932  0.028727  2.656404
: 1  0.499      1  2.199552  0.022388  2.474556
: 2  0.499      2  2.189694  0.044216  4.597539
: 3  0.499      3  2.190472  0.046814  3.863557
: 4  0.499      4  2.160079  0.076171  3.682096

#+begin_src ipython
  end_point = df_code[df_code.time==df_code.time.iloc[-1]]
  end_point = end_point.drop(columns=['time', 'trial'])
  print(end_point.head())
#+end_src

#+RESULTS:
:             m0        m1     phase
: 1750  5.888342  5.483750  3.183689
: 1751  5.883485  5.558875  3.243685
: 1752  5.902112  5.445334  3.218775
: 1753  5.880814  5.378419  3.279644
: 1754  5.863693  5.475054  3.174738

**** Load NB on Data
Load data
#+begin_src ipython
  df_list = []

  for ini in ini_list:
      df_i = pd.read_hdf(REPO_ROOT + "/data/simul/bump_on_ini_%d.h5" % ini, mode="r")
      df_i['trial'] = ini
      df_list.append(df_i)

  df_on = pd.concat(df_list, ignore_index=True)
  print(df_on.head())
#+end_src

#+RESULTS:
:       rates         ff       h_E  neurons   time  trial
: 0  1.734724  -2.912719 -5.928187        0  0.499      0
: 1  0.940182 -14.402127 -5.928192        1  0.499      0
: 2  2.191827  -3.666447 -5.928197        2  0.499      0
: 3  2.949870   5.662764 -5.928201        3  0.499      0
: 4  1.319173   2.274521 -5.928204        4  0.499      0

Decode bump location and amplitude
#+begin_src ipython
  df_on_code = df_on.groupby(['time', 'trial'])['rates'].apply(decode_bump).reset_index()
  df_on_code[['m0', 'm1', 'phase']] = pd.DataFrame(df_on_code['rates'].tolist(), index=df_on_code.index)
  df_on_code = df_on_code.drop(columns=['rates'])
  print(df_on_code.head())
#+end_src

#+RESULTS:
:     time  trial        m0        m1     phase
: 0  0.499      0  2.151777  0.032113  3.184184
: 1  0.499      1  2.190184  0.119403  3.582039
: 2  0.499      2  2.171226  0.079690  5.773302
: 3  0.499      3  2.192930  0.076377  5.369034
: 4  0.499      4  2.169648  0.049598  2.636007

Endpoints
#+begin_src ipython
  end_point_on = df_on_code[df_on_code.time==df_on_code.time.iloc[-1]]
  end_point_on = end_point_on.drop(columns=['time', 'trial'])
  print(end_point_on.head())
#+end_src

#+RESULTS:
:             m0        m1     phase
: 1750  8.396407  6.451817  3.172478
: 1751  8.396668  6.509976  3.114773
: 1752  8.370093  6.502341  3.096552
: 1753  8.369641  6.434390  3.225472
: 1754  8.379320  6.408697  3.162356

**** Phases 
#+begin_src ipython
  fig, ax = plt.subplots(1, 2, figsize=[2*width, height])

  sns.lineplot(data=df_code, x='time', y=df_code['phase']*180/np.pi, legend=False, lw=2, ax=ax[0], hue='trial', alpha=0.25)

  sns.lineplot(data=df_on_code, x='time', y=df_on_code['phase']*180/np.pi, legend=False, lw=2, ax=ax[0], hue='trial', alpha=0.25)

  ax[0].set_xlabel('Time (s)')
  ax[0].set_ylabel('$\phi$ (°)')
  ax[0].set_xticks([0, 1, 2, 3, 4])
  ax[0].set_yticks([0, 90, 180, 270, 360])

  sns.histplot(data=end_point, x=end_point['phase']*180/np.pi, legend=False, ax=ax[1], bins='auto', kde=True)

  sns.histplot(data=end_point_on, x=end_point_on['phase']*180/np.pi, legend=False, ax=ax[1], bins='auto', kde=True)
  
  ax[1].set_xlabel('$\phi$ (°)')
  ax[1].set_ylabel('$Count$')
  ax[1].set_xticks([160, 180, 200])
  plt.show()
#+end_src

#+RESULTS:
[[file:./.ob-jupyter/e6dfa285f65575bd65c0540dc92374c6e63f8295.png]]

**** Endpoint Errors

#+begin_src ipython
  def get_precision(x):
      return x - circmean(x)
#+end_src

#+RESULTS:

#+begin_src ipython
  from scipy.stats import circmean

  end_point['accuracy'] = (end_point.phase - np.pi) % (2 * np.pi)
  end_point['precision'] = get_precision(end_point.phase)

  end_point_on['accuracy'] = (end_point_on.phase - np.pi) % (2 * np.pi)
  end_point_on['precision'] = get_precision(end_point_on.phase)
  
  print(end_point.head())

#+end_src

#+RESULTS:
:             m0        m1     phase  accuracy  precision
: 1750  5.888342  5.483750  3.183689  0.042096   0.034113
: 1751  5.883485  5.558875  3.243685  0.102092   0.094109
: 1752  5.902112  5.445334  3.218775  0.077183   0.069200
: 1753  5.880814  5.378419  3.279644  0.138051   0.130068
: 1754  5.863693  5.475054  3.174738  0.033146   0.025163

#+begin_src ipython
  fig, ax = plt.subplots(1, 3, figsize=[2*width, height])

  sns.histplot(data=end_point, x=end_point['phase']*180/np.pi, legend=False, lw=2, ax=ax[0], kde=False, bins=250, stat='density')
  sns.histplot(data=end_point_on, x=end_point_on['phase']*180/np.pi, legend=False, lw=2, ax=ax[0], kde=False, bins=250, stat='density')
  ax[0].set_xlabel('$\phi$(°)')
  ax[0].set_ylabel('Density')
  ax[0].set_xticks([0, 90, 180, 270, 360])

  sns.histplot(data=end_point, x=end_point['accuracy']*180/np.pi, legend=False, lw=2, ax=ax[1], kde=False, bins=25, stat='density')
  sns.histplot(data=end_point_on, x=end_point_on['accuracy']*180/np.pi, legend=False, lw=2, ax=ax[1], kde=False, bins=25, stat='density')
  ax[1].set_xlabel('$\phi - \phi_{stim}$ (°)')
  ax[1].set_ylabel('Density')
  ax[1].set_xticks([0, 90, 180, 270, 360])

  sns.histplot(data=end_point, x=end_point['precision']*180/np.pi, legend=False, ax=ax[2], bins='auto', kde=True, stat='density')
  sns.histplot(data=end_point_on, x=end_point_on['precision']*180/np.pi, legend=False, ax=ax[2], bins='auto', kde=True, stat='density')
  ax[2].set_xlabel('$\phi - <\phi>_{trials}$ (°)')
  ax[2].set_ylabel('Density')
  ax[2].set_xlim([-25, 25])

  plt.show()  
#+end_src

#+RESULTS:
[[file:./.ob-jupyter/28c8a72ba99fe74036bb60ebd58532f599b66c0a.png]]

** Parameter Space
*** Changing J0
**** Simulation
#+begin_src ipython
  REPO_ROOT = "/home/leon/tmp/rnn_numba"  
  J0_list = np.linspace(2, 8, 11)
  print(J0_list)
#+end_src

#+RESULTS:
: [2.  2.6 3.2 3.8 4.4 5.  5.6 6.2 6.8 7.4 8. ]

#+begin_src ipython
  IF_LOAD_MAT = 0
  IF_SAVE_MAT = 1

  for J0 in J0_list:
      model = Network('config_bump.yml', 'bump_J0_%.1f' % J0, REPO_ROOT,
                      IF_LOAD_MAT=IF_LOAD_MAT, IF_SAVE_MAT=IF_SAVE_MAT,
                      Jab=[-J0], VERBOSE=0)

      model.run()

      IF_LOAD_MAT = 1
      IF_SAVE_MAT = 0
#+end_src

#+RESULTS:
#+begin_example
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J0_2.0.h5
  Generating matrix Cij
  Saving matrix to /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.064432396990014s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J0_2.6.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.989140830002725s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J0_3.2.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.091558501007967s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J0_3.8.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.023728701999062s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J0_4.4.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.02529226099432s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J0_5.0.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.01566048800305s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J0_5.6.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.060480900996481s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J0_6.2.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.044261681003263s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J0_6.8.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.042437109004823s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J0_7.4.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 8.005299901997205s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J0_8.0.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.929633299994748s
#+end_example

**** Analysis
#+begin_src ipython
  J0_list = np.linspace(2, 8, 11)

  df_list = []

  for i in range(J0_list.shape[0]):
      df_i = pd.read_hdf(REPO_ROOT + "/data/simul/bump_J0_%.1f.h5" % J0_list[i], mode="r")
      df_i['J0'] = J0_list[i]
      df_list.append(df_i)

  df = pd.concat(df_list, ignore_index=True)
  print(df.head())
#+end_src

#+RESULTS:
:       rates        ff       h_E  neurons   time   J0
: 0  3.145416 -1.738417 -5.219187        0  0.499  2.0
: 1  1.528044  0.385102 -5.219559        1  0.499  2.0
: 2  3.695630 -0.677790 -5.219934        2  0.499  2.0
: 3  3.669666 -8.739937 -5.220311        3  0.499  2.0
: 4  2.544275  3.847788 -5.220691        4  0.499  2.0


#+begin_src ipython
  res = df.groupby(['time', 'J0'])['rates'].apply(decode_bump).reset_index()
  res[['m0', 'm1', 'phase']] = pd.DataFrame(res['rates'].tolist(), index=res.index)
  res = res.drop(columns=['rates'])
  print(res.head())
#+end_src

#+RESULTS:
:     time   J0        m0        m1     phase
: 0  0.499  2.0  2.632982  0.119828  0.751706
: 1  0.499  2.6  2.260633  0.025218  4.007318
: 2  0.499  3.2  1.978117  0.012399  2.526361
: 3  0.499  3.8  1.763846  0.015377  3.128198
: 4  0.499  4.4  1.587709  0.112705  4.632342

#+begin_src ipython
  last = res[res.time==res.time.iloc[-1]]
  last = last.drop(columns=['time'])
  print(last.head())
#+end_src

#+RESULTS:
:      J0        m0        m1     phase
: 77  2.0  7.233351  0.237386  2.502595
: 78  2.6  6.082311  4.668254  2.946384
: 79  3.2  5.413093  6.414884  3.184743
: 80  3.8  4.949595  6.656227  3.094337
: 81  4.4  4.620303  6.681024  3.165527

#+begin_src ipython
  sns.lineplot(last, x='J0', y=last['m1']/last['m0'])
  plt.xlabel('Recurrent Strength $J_0$')
  plt.ylabel('$\mathcal{F}_1$ (Hz)')
  plt.show()
#+end_src

#+RESULTS:
[[file:./.ob-jupyter/5c2e34592b2c99c852c0c734e606c87d5a887195.png]]

#+begin_src ipython

#+end_src

#+RESULTS:

*** Changing J1
**** Simulation
#+begin_src ipython
  REPO_ROOT = "/home/leon/tmp/rnn_numba"  
  J1_list = np.linspace(0, 1, 11)
  print(J1_list)
#+end_src

#+RESULTS:
: [0.  0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1. ]

#+begin_src ipython
  IF_LOAD_MAT = 0
  IF_SAVE_MAT = 0

  for J1 in J1_list:
      model = Network('config_bump.yml', 'bump_J1_%.1f' % J1, REPO_ROOT,
                      IF_LOAD_MAT=IF_LOAD_MAT, IF_SAVE_MAT=IF_SAVE_MAT,
                      KAPPA=[J1], VERBOSE=0)

      model.run()

      IF_LOAD_MAT = 0
      IF_SAVE_MAT = 0
#+end_src

#+RESULTS:
#+begin_example
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J1_0.0.h5
  Generating matrix Cij
  Running simulation
  Elapsed (with compilation) = 8.061212248998345s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J1_0.1.h5
  Generating matrix Cij
  Running simulation
  Elapsed (with compilation) = 8.036842985995463s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J1_0.2.h5
  Generating matrix Cij
  Running simulation
  Elapsed (with compilation) = 8.058933773005265s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J1_0.3.h5
  Generating matrix Cij
  Running simulation
  Elapsed (with compilation) = 8.032721847994253s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J1_0.4.h5
  Generating matrix Cij
  Running simulation
  Elapsed (with compilation) = 7.984838688003947s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J1_0.5.h5
  Generating matrix Cij
  Running simulation
  Elapsed (with compilation) = 8.026162741996814s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J1_0.6.h5
  Generating matrix Cij
  Running simulation
  Elapsed (with compilation) = 7.978958764986601s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J1_0.7.h5
  Generating matrix Cij
  Running simulation
  Elapsed (with compilation) = 7.9543579970049905s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J1_0.8.h5
  Generating matrix Cij
  Running simulation
  Elapsed (with compilation) = 7.932406817999436s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J1_0.9.h5
  Generating matrix Cij
  Running simulation
  Elapsed (with compilation) = 7.918651639003656s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_J1_1.0.h5
  Generating matrix Cij
  Running simulation
  Elapsed (with compilation) = 7.991910406999523s
#+end_example

**** Analysis
#+begin_src ipython
  J1_list = np.linspace(0, 1, 11)

  df_list = []

  for i in range(J1_list.shape[0]):
      df_i = pd.read_hdf(REPO_ROOT + "/data/simul/bump_J1_%.1f.h5" % J1_list[i], mode="r")
      df_i['J1'] = J1_list[i]
      df_list.append(df_i)

  df = pd.concat(df_list, ignore_index=True)
  print(df.head())
#+end_src

#+RESULTS:
:       rates         ff       h_E  neurons   time   J1
: 0  1.780328   3.751463 -5.961933        0  0.499  0.0
: 1  3.168570   5.259105 -5.961933        1  0.499  0.0
: 2  3.115081  12.141036 -5.961933        2  0.499  0.0
: 3  2.222949   1.661346 -5.961933        3  0.499  0.0
: 4  1.914718  -3.024735 -5.961933        4  0.499  0.0

: 3  2.504058  -1.709201 -5.977084        3  0.499  0.0

#+begin_src ipython
  res = df.groupby(['time', 'J1'])['rates'].apply(decode_bump).reset_index()
  res[['m0', 'm1', 'phase']] = pd.DataFrame(res['rates'].tolist(), index=res.index)
  res = res.drop(columns=['rates'])
  print(res.head())
#+end_src

#+RESULTS:
:     time   J1        m0        m1     phase
: 0  0.499  0.0  2.173088  0.062113  3.585447
: 1  0.499  0.1  2.182127  0.063740  2.383803
: 2  0.499  0.2  2.177634  0.034169  2.161832
: 3  0.499  0.3  2.172801  0.048449  1.108637
: 4  0.499  0.4  2.177327  0.059658  1.469172

#+begin_src ipython
  last = res[res.time==res.time.iloc[-1]]
  last = last.drop(columns=['time'])
  print(last.head())
#+end_src

#+RESULTS:
:      J1        m0        m1     phase
: 77  0.0  5.792208  0.021648  0.269616
: 78  0.1  5.756695  0.094577  4.440140
: 79  0.2  5.739243  0.105470  0.896514
: 80  0.3  5.740098  0.056995  5.128754
: 81  0.4  5.880452  5.435077  3.284011

#+begin_src ipython
  sns.lineplot(last, x='J1', y=last['m1']/last['m0'])
  plt.xlabel('Tuning Strength $J_1$')
  plt.ylabel('$\mathcal{F}_1$ (Hz)')
  plt.show()
#+end_src

#+RESULTS:
[[file:./.ob-jupyter/d71a59fba741ab1bf282a12ffca3fe454e2f5fae.png]]

#+begin_src ipython

#+end_src

#+RESULTS:

*** Changing I0
**** Simulation
#+begin_src ipython
  REPO_ROOT = "/home/leon/tmp/rnn_numba"  
  I0_list = np.linspace(10, 30, 11)
  print(I0_list)
#+end_src

#+RESULTS:
: [10. 12. 14. 16. 18. 20. 22. 24. 26. 28. 30.]

#+begin_src ipython
  IF_LOAD_MAT = 0
  IF_SAVE_MAT = 1

  for I0 in I0_list:
      model = Network('config_bump.yml', 'bump_I0_%.1f' % I0, REPO_ROOT,
                      IF_LOAD_MAT=IF_LOAD_MAT, IF_SAVE_MAT=IF_SAVE_MAT,
                      Iext=[I0], VERBOSE=0)

      model.run()

      IF_LOAD_MAT = 1
      IF_SAVE_MAT = 0

#+end_src

#+RESULTS:
#+begin_example
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_I0_10.0.h5
  Generating matrix Cij
  Saving matrix to /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.1810109979705885s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_I0_12.0.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.145081017049961s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_I0_14.0.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.189407243044116s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_I0_16.0.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.206623823032714s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_I0_18.0.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.2632918279850855s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_I0_20.0.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.173060012981296s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_I0_22.0.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.135047971038148s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_I0_24.0.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.1645337590016425s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_I0_26.0.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.200579374912195s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_I0_28.0.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.172602592967451s
  Loading config from /home/leon/tmp/rnn_numba/conf/config_bump.yml
  Saving data to /home/leon/tmp/rnn_numba/data/simul/bump_I0_30.0.h5
  Loading matrix from /home/leon/tmp/rnn_numba/data/matrix/Cij.npy
  Running simulation
  Elapsed (with compilation) = 7.21300628897734s
#+end_example

**** Analysis
#+begin_src ipython
  I0_list = np.linspace(10, 30, 11)

  df_list = []

  for i in range(I0_list.shape[0]):
      df_i = pd.read_hdf(REPO_ROOT + "/data/simul/bump_I0_%.1f.h5" % I0_list[i], mode="r")
      df_i['I0'] = I0_list[i]
      df_list.append(df_i)
      
  df = pd.concat(df_list, ignore_index=True)
  print(df.head())
#+end_src

#+RESULTS:
:       rates        ff       h_E  neurons   time    I0
: 0  2.991737  2.570595 -6.026989        0  0.499  10.0
: 1  1.881618  0.980764 -6.026621        1  0.499  10.0
: 2  2.940181 -5.795781 -6.026254        2  0.499  10.0
: 3  1.170019 -0.076887 -6.025889        3  0.499  10.0
: 4  2.863903  2.739512 -6.025525        4  0.499  10.0

#+begin_src ipython
  res = df.groupby(['time', 'I0'])['rates'].apply(decode_bump).reset_index()
  res[['m0', 'm1', 'phase']] = pd.DataFrame(res['rates'].tolist(), index=res.index)
  res = res.drop(columns=['rates'])
  print(res.head())
#+end_src

#+RESULTS:
:     time    I0        m0        m1     phase
: 0  0.499  10.0  2.201509  0.059715  4.983395
: 1  0.499  12.0  2.158195  0.189081  1.364071
: 2  0.499  14.0  2.171295  0.075219  3.018876
: 3  0.499  16.0  2.177301  0.077118  1.571473
: 4  0.499  18.0  2.169490  0.118072  4.750044

#+begin_src ipython
  last = res[res.time==res.time.iloc[-1]]
  last = last.drop(columns=['time'])
  print(last.head())
#+end_src

#+RESULTS:
:       I0        m0        m1     phase
: 77  10.0  4.748553  3.372240  2.832190
: 78  12.0  5.299185  4.570933  2.924747
: 79  14.0  5.893788  5.414350  2.964203
: 80  16.0  6.393171  5.944921  3.220780
: 81  18.0  6.918446  6.382643  3.213330

#+begin_src ipython
  sns.lineplot(last, x='I0', y=last['m1']/last['m0'])
  plt.ylabel('$\mathcal{F}_1$')
  plt.xlabel('FF Input (Hz)')
  plt.show()
#+end_src

#+RESULTS:
[[file:./.ob-jupyter/f41fed7f7c05c69f9b96639fa5508d179967240b.png]]
